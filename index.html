<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>An R Package to Analyse and Visualise River Fish Data in France • aspe</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="An R Package to Analyse and Visualise River Fish Data in France">
<meta property="og:description" content="The aspe package provides a suite of tools for most of the common processing of the ASPE database &lt;DOI:10.1051/kmae/2022021&gt;, including importation of the tables from a dump of the PostGreSQL database, calculation of abundances, densities, size distributions, along with graphical output and spatial processing.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">aspe</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/aspe_01_importation_tables.html">1. Importation des tables de la base ASPE</a>
    </li>
    <li>
      <a href="articles/aspe_02_construire_un_jeu_de_donnees.html">2. Construire un jeu de données</a>
    </li>
    <li>
      <a href="articles/aspe_03_fiche_station.html">3. Produire une fiche station</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/PascalIrz/aspe/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div class="section level1">
<div class="page-header"><h1 id="aspe-an-r-package-to-analyse-and-visualise-river-fish-data-in-france">{aspe}: an R package to analyse and visualise river fish data in France<a class="anchor" aria-label="anchor" href="#aspe-an-r-package-to-analyse-and-visualise-river-fish-data-in-france"></a>
</h1></div>
<p>{aspe} fournit des outils autorisant simplement la plupart des traitements de base à partir d’une sauvegarde (dump SQL) de la base de données ASPE de l’OFB. Ces traitements comprennent les calculs d’abondances, densités, distribution en tailles et la détection de tendances à l’échelle de la station. Ces calculs sont accompagnés de fonctionnalités graphiques.</p>
<p>The goal of {aspe} is to is to provide a suite of tools for most of the common processing of the ASPE database including importation from a SQL format dump, calculation of abundances, densities, size distributions, temporal trends for populations at the station level, along with graphical output.</p>
<p>La base de données ASPE de l’OFB contient toutes les données d’inventaire par pêche à l’électricité par le CSP, l’ONEMA, l’AFB, l’OFB ainsi que par certains partenaires sur les rivières de France. Elle est décrite dans Irz <em>et al.</em> (2022), article produit en visant le respect des principes de la recherche reproductible (Wilkinson <em>et al.</em> 2016). Ses fichiers sources - données comprises - sont diffusés sur le dépôt <a href="https://doi.org/10.5281/zenodo.7099129" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.7099129.svg" alt="DOI"></a></p>
<p>The ASPE database is administrated by the French Office for Biodiversity. It gathers, among others, all the river electrofishing samplings carried out by the former Fisheries Council, National Office for Water and Aquatic Systems and French Agency for Biodiversity. The database is described in Irz <em>et al.</em> (2022). This paper was produced to respect the FAIR principles (Wilkinson <em>et al.</em> 2016), hence its source files - including the database - are available at <a href="https://doi.org/10.5281/zenodo.7099129" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.7099129.svg" alt="DOI"></a></p>
<ul>
<li>Irz P, Vigneron T, Poulet N, Cosson E, Point T, Baglinière E, Porcher JP. 2022. A long-term monitoring database on fish and crayfish species in French rivers. <em>Knowl. Manag. Aquat. Ecosyst.</em> 423, 25, <a href="https://doi.org/10.1051/kmae/2022021" class="external-link">DOI:10.1051/kmae/2022021</a>.</li>
<li>Wilkinson MD, et al. 2016. The FAIR Guiding Principles for scientific data management and stewardship. <em>Sci. Data</em> 3: 160018, <a href="https://doi.org/10.1038/sdata.2016.18" class="external-link">DOI:10.1038/sdata.2016.18</a>.</li>
</ul>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Si besoin, commencer par installer le package R {devtools} ainsi que la suite Rtools, puis installer {aspe} au moyen de la commande :</p>
<p>If necessary, first install the {devtools} R package and the Rtools suite, then you can install the released version of {aspe} from <a href="https://github.com/PascalIrz/aspe" class="external-link">Github</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"PascalIrz/aspe"</span>)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="répertoires-github-associés--associated-github-repositories">Répertoires Github associés / Associated Github repositories<a class="anchor" aria-label="anchor" href="#r%C3%A9pertoires-github-associ%C3%A9s--associated-github-repositories"></a>
</h2>
<p>Plusieurs dépôts Github sont associés au package :</p>
<ul>
<li>
<a href="https://github.com/PascalIrz/aspe_data" class="external-link">aspe_data</a> : construction des jeux de données inclus dans le package {aspe}</li>
<li>
<a href="https://github.com/PascalIrz/aspe_test" class="external-link">aspe_test</a> : Fichiers R Markdown pour tester le package {aspe} et produire les tutos</li>
<li>
<a href="https://github.com/PascalIrz/aspe_demo" class="external-link">aspe_demo</a> : Fichiers R Markdown pour prétraiter les données pour <a href="https://gitlab.ofb.fr/cedric.mondy1/aspedashboard" class="external-link">un tableau de bord interactif</a>
</li>
<li>
<a href="https://github.com/PascalIrz/aspeQual" class="external-link">aspeQual</a> : package R destiné à la mise en qualité de la base Aspe</li>
</ul>
<p>The package comes with a number of associated repos :</p>
<ul>
<li>
<a href="https://github.com/PascalIrz/aspe_data" class="external-link">aspe_data</a>: building of the datasets included in the {aspe} package</li>
<li>
<a href="https://github.com/PascalIrz/aspe_test" class="external-link">aspe_test</a>: R Markdown files to test the {aspe} package and to build the tutorials</li>
<li>
<a href="https://github.com/PascalIrz/aspe_demo" class="external-link">aspe_demo</a>: R Markdown files to pre-process the fish data for <a href="https://gitlab.ofb.fr/cedric.mondy1/aspedashboard" class="external-link">a dashboard app</a>
</li>
<li>
<a href="https://github.com/PascalIrz/aspeQual" class="external-link">aspeQual</a> : R package dedicated to the quality control on the Aspe database</li>
</ul>
</div>
<div class="section level2">
<h2 id="tutoriels--vignettes">Tutoriels / Vignettes<a class="anchor" aria-label="anchor" href="#tutoriels--vignettes"></a>
</h2>
<p>La documentation générale du package est diffusée sur Github pages : <a href="https://pascalirz.github.io/aspe/" class="external-link uri">https://pascalirz.github.io/aspe/</a></p>
<p>Une série de tutoriels est en ligne :</p>
<ul>
<li><a href="https://rpubs.com/kamoke/713491" class="external-link">Traiter des données Indice Poisson Rivière (IPR)</a></li>
<li><a href="https://rpubs.com/kamoke/715102" class="external-link">Faire des traitements de base à partir des lots</a></li>
<li><a href="https://rpubs.com/kamoke/715858" class="external-link">Traiter des mesures individuelles</a></li>
<li><a href="https://rpubs.com/kamoke/716322" class="external-link">Faire des traitements géographiques</a></li>
<li><a href="https://rpubs.com/kamoke/729779" class="external-link">Construire des relations taille-poids</a></li>
</ul>
<p>Several vignettes (in French) are available online:</p>
<ul>
<li><a href="https://rpubs.com/kamoke/713491" class="external-link">Processing the fish-based river health index</a></li>
<li><a href="https://rpubs.com/kamoke/715102" class="external-link">Base processing on the fish batches data</a></li>
<li><a href="https://rpubs.com/kamoke/715858" class="external-link">Processing the individual measurements</a></li>
<li><a href="https://rpubs.com/kamoke/716322" class="external-link">Geographical analysis</a></li>
<li><a href="https://rpubs.com/kamoke/729779" class="external-link">Fitting length-weight relationships</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="nommage-des-fonctions--functions-naming-rules">Nommage des fonctions / Functions’ naming rules<a class="anchor" aria-label="anchor" href="#nommage-des-fonctions--functions-naming-rules"></a>
</h2>
<p>Les familles de fonctions se distinguent par des préfixes :</p>
<ul>
<li>
<code>mef_</code> : mise en forme des dataframes</li>
<li>
<code>expl_</code> : exploration de la base</li>
<li>
<code>export</code>: export des dataframes (.csv ou .RData)</li>
<li>
<code>geo_</code> : opérations spatiales</li>
<li>
<code>gg_</code> : production de graphiques avec <code>ggplot2</code>
</li>
<li>
<code>imp_</code> : importation depuis un dump SQL</li>
<li>
<code>ipr_</code> : <a href="https://www.kmae-journal.org/articles/kmae/abs/2002/02/kmae2002365p405/kmae2002365p405.html" class="external-link">indice poisson rivière</a>
</li>
<li>
<code>misc_</code> : divers</li>
</ul>
<p>Functions’ names start by group-specific prefixes:</p>
<ul>
<li>
<code>mef_</code>: tidying dataframes</li>
<li>
<code>expl_</code>: exploring the database</li>
<li>
<code>export</code>: exporting dataframes (.csv or .RData)</li>
<li>
<code>geo_</code>: spatial processing</li>
<li>
<code>gg_</code>: plots with <code>ggplot2</code>
</li>
<li>
<code>imp_</code>: importing data from a SQL dump</li>
<li>
<code>ipr_</code>: <a href="https://www.researchgate.net/publication/227818978_Development_and_validation_of_a_fish-based_index_FBI_for_the_assessment_of_river_health_in_France" class="external-link">fish-based river health index</a>
</li>
<li>
<code>misc_</code>: miscellaneous</li>
</ul>
</div>
<div class="section level2">
<h2 id="nommage-des-variables--variables-naming-rules">Nommage des variables / Variables’ naming rules<a class="anchor" aria-label="anchor" href="#nommage-des-variables--variables-naming-rules"></a>
</h2>
<p>Dans la quasi-totalité des cas, les variables contenues dans une table sont préfixées en fonction de cette table. Par exemple :</p>
<ul>
<li>
<code>sta_</code> : station</li>
<li>
<code>pop_</code> : point_prelevement</li>
<li>
<code>mei_</code> : mesure_individuelle</li>
</ul>
<p>Pour une liste des noms et signification des variables, taper dans la console :</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"data_dictionnaire"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">View</span>(data_dictionnaire)</span></code></pre></div>
<p>Almost systematically, variables’ names start by table-specific prefixes:</p>
<ul>
<li>
<code>sta_</code> : station</li>
<li>
<code>pop_</code> : point_prelevement (sampling point)</li>
<li>
<code>mei_</code> : mesure_individuelle (individual measurment)</li>
</ul>
<p>To display a comprehensive list of variables with their meaning (all in French so far, sorry), call:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"data_dictionnaire"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">View</span>(data_dictionnaire)</span></code></pre></div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/PascalIrz/aspe/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/PascalIrz/aspe/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing aspe</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Pascal Irz <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-2066-8935" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/PascalIrz/aspe/actions" class="external-link"><img src="https://github.com/PascalIrz/aspe/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://www.gnu.org/licenses/gpl-3.0" class="external-link"><img src="https://img.shields.io/badge/License-GPLv3-blue.svg" alt="License: GPL v3"></a></li>
<li><a href="https://discourse.jupyter.org/t/should-we-adopt-the-tidyverse-package-lifecycle-badges/1310" class="external-link"><img src="https://img.shields.io/badge/Lifecycle-Maturing-007EC6" alt="Lifecycle:Maturing"></a></li>
<li><a href="https://zenodo.org/record/7458005" class="external-link"><img src="https://zenodo.org/badge/323145117.svg" alt="DOI"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Pascal Irz.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
